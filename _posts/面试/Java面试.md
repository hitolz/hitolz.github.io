---
layout: post
title: Java面试题收集
tags: [面试]
categories: [面试]
---

[toc]

## 多线程相关

### 1. 并行和并发有什么区别？

并行和串行

通俗来说，并发是一个人在做多件事，并行是多个人同时在做多件事。
只不过并发的时候，CPU高速切换线程，表面上看起来是在同时做多件事。

常说的“多线程”一般是指在同一个进程内，多个线程并发执行。

### 2. 线程和进程的区别？
进程是操作系统资源分配的基本单位，而线程是系统调度的基本单位。
线程是操作系统最小调度单位，是操作系统分配处理器时间资源的基本单位。
进程可以包含多个线程、线程共享进程内存空间

| 进程占有的资源                                               | 线程占有的资源                         |
| ------------------------------------------------------------ | -------------------------------------- |
| 地址空间<br/>全局变量<br/>打开的文件<br/>子进程<br/>信号量<br/>账户信息 | 栈<br />寄存器<br/>状态<br/>程序计数器 |



### 3. 守护线程是什么？
是服务于其他线程的服务线程，一直服务到jvm停止，最典型的应用就是GC线程

其他线程叫做用户线程，就是应用程序里的线程

4种

1. 继承Thread
2. 实现Runnable run
3. 实现Callable call
4. 线程池创建

### 5. 说一下 runnable 和 callable 有什么区别？

相同点：

都是接口，都可以创建线程，都需要 start方法启动线程

不同点：

callable接口的实现类需实现call接口，该接口会抛出异常，java.util.concurrent包



### 6. 线程有哪些状态？

创建

就绪：T.start()之后就进入到就绪状态，拿到执行权（锁），等待os调度

运行：os调度

阻塞：T.sleep()、T2.join()、

死亡：run()结束

### 7. sleep() 和 wait() 有什么区别？



| sleep                                                        | wait                                                         |
| :----------------------------------------------------------- | ------------------------------------------------------------ |
| Thread类的静态方法，                                         | Object的方法                                                 |
| 不释放资源（锁），其他线程不能抢占资源，sleep时间一到，自动进入就绪状态，等待os调度 | 释放资源（锁），其他线程可以抢占资源，需notify才能进入就绪状态 |
| sleep抛异常                                                  | wait不抛异常                                                 |
| sleep可以在任何地方调用                                      | wait只能在同步方法和同步代码块中使用                         |





### 8. notify()和 notifyAll()有什么区别？
notify唤醒一个线程，

notifyAll唤醒全部线程

### 9. 线程的 run()和 start()有什么区别？
### 
### 10. 创建线程池有哪几种方式？
### 
### 11. 线程池都有哪些状态？
### 
### 12. 线程池中 submit()和 execute()方法有什么区别？
### 
### 13. 在 java 程序中怎么保证多线程的运行安全？
### 
### 14. 多线程锁的升级原理是什么？
### 
### 15. 什么是死锁？
### 
### 16. 怎么防止死锁？
### 
### 17. ThreadLocal 是什么？有哪些使用场景？
### 
### 18. 说一下 synchronized 底层实现原理？
### 
### 19. synchronized 和 volatile 的区别是什么？
### 
### 20. synchronized 和 Lock 有什么区别？
### 
### 21. synchronized 和 ReentrantLock 区别是什么？
### 
### 22. 说一下 atomic 的原理？
### 